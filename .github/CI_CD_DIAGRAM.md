# CI/CD Architecture Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     FINCHRONICLE CI/CD STRATEGY                      â”‚
â”‚                     (Multi-Repository Testing)                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   finance-tracker (Main App)   â”‚        â”‚  finance-tracker-tests (Tests) â”‚
â”‚  github.com/kiren-labs/        â”‚        â”‚   github.com/kiren-labs/       â”‚
â”‚      finance-tracker           â”‚        â”‚    finance-tracker-tests       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                                            â”‚
         â”‚ 1. Developer creates PR                   â”‚
         â”‚    or pushes to main                       â”‚
         â–¼                                            â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚
â”‚  ğŸ”„ Workflow:                  â”‚                   â”‚
â”‚  test-with-test-repo.yml       â”‚                   â”‚
â”‚                                 â”‚                   â”‚
â”‚  Steps:                         â”‚                   â”‚
â”‚  1. Checkout main app (PR)      â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  2. Checkout test repo  â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚  3. Extract functions            â”‚
â”‚  4. Run unit tests (76)          â”‚
â”‚  5. Run E2E tests                â”‚
â”‚  6. Upload artifacts             â”‚
â”‚  7. Comment on PR                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
    âœ… Tests Pass
         â”‚
         â–¼
   ğŸ‰ PR Can Merge


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   finance-tracker-tests        â”‚
â”‚   (Test Repo)                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”‚ 2. Tester updates tests
         â”‚    or creates PR
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ”„ Workflow:                  â”‚        â”‚   finance-tracker (Main App)   â”‚
â”‚  test-against-main.yml         â”‚        â”‚                                 â”‚
â”‚                                 â”‚        â”‚                                 â”‚
â”‚  Steps:                         â”‚        â”‚                                 â”‚
â”‚  1. Checkout test repo (PR)     â”‚        â”‚                                 â”‚
â”‚  2. Checkout main app  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¤ Clone from main branch        â”‚
â”‚  3. Extract functions            â”‚        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚  4. Run all tests                â”‚
â”‚  5. Comment on PR                â”‚
â”‚  6. Upload artifacts             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
    âœ… Tests Pass
         â”‚
         â–¼
   ğŸ‰ Test PR Can Merge


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Scheduled Tests (Daily)       â”‚
â”‚   Cron: 0 2 * * * (2 AM UTC)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ”„ Workflow:                  â”‚        â”‚   finance-tracker (Main App)   â”‚
â”‚  scheduled-tests.yml           â”‚        â”‚                                 â”‚
â”‚                                 â”‚        â”‚                                 â”‚
â”‚  Steps:                         â”‚        â”‚                                 â”‚
â”‚  1. Checkout test repo          â”‚        â”‚                                 â”‚
â”‚  2. Checkout main app  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¤ Latest main branch            â”‚
â”‚  3. Run all tests                â”‚        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚  4. Create issue if fail         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
    âŒ Tests Fail?
         â”‚
         â–¼
    ğŸ› Auto-create GitHub Issue


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

                        VERSION TRACKING FLOW

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

finance-tracker/app.js
   â”‚
   â”‚ const APP_VERSION = '3.7.1'
   â–¼

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Extraction Script                        â”‚
â”‚  (scripts/extract-functions.js)           â”‚
â”‚                                            â”‚
â”‚  1. Read app.js                            â”‚
â”‚  2. Extract APP_VERSION                    â”‚
â”‚  3. Extract 15 functions                   â”‚
â”‚  4. Generate test-metadata.json            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   â”‚
   â–¼

test-metadata.json
{
  "appVersion": "3.7.1",
  "testedAt": "2026-02-07T...",
  "extractedFunctions": 15,
  "totalFunctions": 15,
  "success": true
}
   â”‚
   â”œâ”€â”€â–º GitHub Actions Summary
   â”œâ”€â”€â–º PR Comments
   â”œâ”€â”€â–º Test Artifacts
   â””â”€â”€â–º Git History


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

                        TEST EXECUTION FLOW

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         GitHub Actions                           â”‚
â”‚                                                                   â”‚
â”‚  1. Clone Repositories                                            â”‚
â”‚     â”œâ”€â”€ finance-tracker (app code)                               â”‚
â”‚     â””â”€â”€ finance-tracker-tests (test code)                        â”‚
â”‚                                                                   â”‚
â”‚  2. Setup Environment                                             â”‚
â”‚     â”œâ”€â”€ Install Node.js 18                                       â”‚
â”‚     â”œâ”€â”€ npm ci (install test dependencies)                       â”‚
â”‚     â””â”€â”€ Install Playwright browsers                              â”‚
â”‚                                                                   â”‚
â”‚  3. Extract & Verify                                              â”‚
â”‚     â”œâ”€â”€ npm run extract                                          â”‚
â”‚     â”œâ”€â”€ Read test-metadata.json                                  â”‚
â”‚     â”œâ”€â”€ Verify APP_VERSION                                       â”‚
â”‚     â””â”€â”€ Check 15/15 functions extracted âœ…                       â”‚
â”‚                                                                   â”‚
â”‚  4. Run Tests                                                     â”‚
â”‚     â”œâ”€â”€ npm run test:unit (76 tests)                            â”‚
â”‚     â”‚   â”œâ”€â”€ Version tracking (2 tests)                           â”‚
â”‚     â”‚   â”œâ”€â”€ Formatters (15 tests)                                â”‚
â”‚     â”‚   â”œâ”€â”€ Parsers (18 tests)                                   â”‚
â”‚     â”‚   â”œâ”€â”€ Validators (25 tests)                                â”‚
â”‚     â”‚   â””â”€â”€ Trend calculations (18 tests)                        â”‚
â”‚     â”‚                                                             â”‚
â”‚     â””â”€â”€ npm run test:e2e (Playwright)                           â”‚
â”‚         â”œâ”€â”€ Transaction CRUD                                     â”‚
â”‚         â”œâ”€â”€ CSV import/export                                    â”‚
â”‚         â””â”€â”€ Filters & navigation                                 â”‚
â”‚                                                                   â”‚
â”‚  5. Generate Artifacts                                            â”‚
â”‚     â”œâ”€â”€ test-results/ (JUnit XML)                                â”‚
â”‚     â”œâ”€â”€ playwright-report/ (HTML)                                â”‚
â”‚     â”œâ”€â”€ test-metadata.json                                       â”‚
â”‚     â””â”€â”€ screenshots/ (on failure)                                â”‚
â”‚                                                                   â”‚
â”‚  6. Report Results                                                â”‚
â”‚     â”œâ”€â”€ GitHub Actions Summary                                   â”‚
â”‚     â”œâ”€â”€ PR Comment (with version)                                â”‚
â”‚     â””â”€â”€ Upload artifacts (30 day retention)                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  âœ… All Pass   â”‚  â†’ Can Merge PR
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  âŒ Some Fail  â”‚  â†’ Block Merge
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

                    MANUAL WORKFLOW DISPATCH

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Developer â†’ GitHub UI â†’ Actions Tab â†’ "Test Against Main App"
                â”‚
                â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  Input Parameters:    â”‚
        â”‚                       â”‚
        â”‚  app_branch: ______   â”‚  (e.g., "feature/new-ui")
        â”‚  app_version: ______  â”‚  (e.g., "3.8.0-beta")
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â–¼
        Run tests against
        specified branch/version
                â”‚
                â–¼
        View results in Actions tab


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

                        KEY BENEFITS

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ… Automatic version detection from app code
âœ… Tests run on every PR (prevents breaking changes)
âœ… Historical test results with version tracking
âœ… Can test any branch against any version
âœ… Daily regression testing (scheduled)
âœ… PR comments show what version was tested
âœ… Artifacts retained for 30 days
âœ… Auto-create issues on scheduled test failures
âœ… No manual coordination needed between repos
```
